template(name="riddleAnswer")

  .ui.segments.riddle-answer

    if responseType.string
      .ui.secondary.segment
        .ui.grid.stackable.divided
          .ten.wide.column
            h3.ui.header
              .content Введи текст
                .sub.header Если в ответе есть числа, то набирай их словами
          .six.wide.column
            .ui.padded.grid
              .two.column.row
                .center.aligned.column.green
                  .ui.mini.statistic.inverted
                    .value {{countWordsResponseUser}}
                    .label введено
                .center.aligned.column.teal
                  .ui.mini.statistic.inverted
                    .value {{countWordsResponseRiddle}}
                    .label всего
      .ui.segment
        form.ui.form.string
          .field
            .ui.left.icon.input.large
              input(type='text', name='response-user', placeholder="Ответ вводить сюда")
              i.write.icon
              .ui.corner.label
                i.asterisk.icon
          +buttonSubmit

    if responseType.number
      .ui.secondary.segment
        h3 Введи число
      .ui.segment
        form.ui.form.number
          .field
            .ui.left.icon.input.large
              input(type='text', name='response-user', placeholder="Ответ вводить сюда")
              i.write.icon
              .ui.corner.label
                i.asterisk.icon
          +buttonSubmit

    if responseType.options
      .ui.secondary.segment
        h3 Выбери один вариант
      .ui.segment
        form.ui.form.options
          input(type="hidden", name='response-user')
          p
            .ui.fluid.large.vertical.buttons
              each responseType.options
                .ui.toggle.button {{this}}
          .ui.error.message
          +buttonSubmit

      
    .ui.basic.modal(data-next="{{nextRiddleId}}")
      .header
        h1.ui.inverted.header
          if notequal checkAnswer false
            | Правильно! Поздравляем!
          else
            | Не правильно!
      .content
        .image
          if notequal checkAnswer false
            i.inverted.green.check.icon
          else
            i.inverted.red.close.icon
        .description
          .ui.two.column.stackable.grid
            .column
              if checkAnswer
                h2.ui.inverted.header
                  i.orange.fire.icon
                  .content Ты заработал:<br>+{{plurality checkAnswer "мудрост"}}
                    .sub.header
                      i.play.icon
                      | Открыта следующая загадка
              else if equal checkAnswer 0
                h2.ui.inverted.header
                  i.repeat.icon
                  .content Ты заработал:<br>{{plurality checkAnswer "мудрост"}}
              else
                h2.ui.inverted.header
                  i.repeat.icon
                  .content Прочти еще раз!
            .column
              h2.ui.inverted.header Время отгадывания:
              .time-circle
      .actions
        .ui.one.column.grid
          .column
            .ui.segment
              .ui.dimmer
                .ui.loader
              .fluid.ui.inverted.buttons.big(class="{{#if notequal checkAnswer false}} 3 {{else}} 2 {{/if}}")
                .ui.green.basic.inverted.button.correct-transition(data-settings="{{episodeId}}", data-router="episode")
                  i.block.layout.icon
                  span.text-popup Обзор эпизода
                .ui.basic.inverted.cancel.button
                  i.repeat.icon
                  span.text-popup Вернуться к загадке
                if checkAnswer
                  .ui.blue.basic.inverted.button.correct-transition(data-settings="{{nextRiddleId}}", data-router="riddle")
                    i.play.icon
                    span.text-popup Следующая загадка
                else if equal checkAnswer 0
                  .ui.blue.basic.inverted.button.correct-transition(data-settings="{{nextRiddleId}}", data-router="riddle")
                    i.play.icon
                    span.text-popup Следующая загадка

template(name="buttonSubmit")
  .ui.fluid.animated.fade.huge.blue.submit.button
    .visible.content Отправить
    .hidden.content
      i.send.icon